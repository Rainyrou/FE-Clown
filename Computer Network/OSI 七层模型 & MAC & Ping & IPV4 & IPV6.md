OSI 七层模型：各层均接收由它下一层所提供的特定服务且负责为自己的上一层提供特定服务，上下层间进行交互时所遵循的约定即接口，同一层间的交互所遵循的约定即协议，协议分层就如同计算机软件中的模块化开发，OSI 七层模型的建议是比较理想化的，它希望实现从第一层到第七层的所有模块并将它们组合起来实现网络通信，分层可将各层独立使用，即使系统中某些分层变化，也不会影响整个系统。通过分层细分通信功能，易于实现各个分层的协议并界定各个分层的具体责任和义务。而分层的局限性即过分模块化，逻辑复杂化，每个分层不得不实现相似的业务逻辑

1. 应用层：用于为应用提供服务并规定应用通信相关细节如 HTTP、SSL/TLS、DNS 和 SSH
2. 表示层：用于数据格式编码和转换，将应用固有的数据格式转换为网络标准传输格式，或将来自下层的数据转换为上层能够处理的格式
3. 会话层：用于管理会话，建立、维护和终止进程间通信及数据分割
4. 传输层：用于端对端通信，确保数据传输的完整如 TCP 和 UDP
5. 网络层：用于路由选择和寻址，实现数据包从源到目的地的传输如 IP
6. 数据链路层：用于物理层面上节点间数据传输，将物理层传输的比特流转换为数据帧并检测和纠正错误如 PPP 点对点协议协议、以太网协议、无线局域网协议、HDLC 高级数据链路控制协议
7. 物理层：用于在物理媒介上传输比特流，进行 01 比特流与电压高低、灯光闪灭的转换

![[Pasted image 20240530172822.png]]

媒体访问控制层位于数据链路层，由硬件和固件结合实现，硬件生成和校验 MAC 帧头部及 CRC 校验码，实现 CSMA/CD 算法以检测信号电平变化和碰撞检测，在发生碰撞时执行退避算法，等待随机退避时间后重传，固件与操作系统网络协议栈对接，提供上层协议数据传递、配置接口和错误处理

- 地址标识：各个网络设备均有唯一 MAC 地址，MAC 层在帧中嵌入源和目标 MAC 地址以实现数据定向传输
- 帧封装与解封：封装上层数据为帧并于接收方解析以验证数据完整性
- 访问控制：控制对共享传输介质的访问，保证同一时间只有一个设备在发送数据

Ping 基于 ICMP 协议（网络层），用于检测网络设备间连接性、延迟和丢包

* 源主机生成  ICMP Echo Request 报文（Type=8），其包含序列号和时间戳，通过 IP 层发送至目标主机
* 目标主机接收报文后，生成并返回 ICMP Echo Reply 报文（Type=0）
* 源主机接收报文后，根据发送和接收时间差计算往返时间和延迟并通过发送和接收次数计算丢包率

IPv4 和 IPv6 用于网络设备间通信

1. 地址长度

- IPv4：32 位地址长度即 4 个十进制数，各个数字范围为 0 到 255，以点号分隔
- IPv6：128 位地址长度即 8 组十六进制数，各组由 4 个字符组成，以冒号分隔如 2001:0db8:85a3:0000:0000:8a2e:0370:7334，省略内部 0 以简化

2. 地址空间

- IPv4：43 亿个独立地址
- IPv6：3.4×10383.4×1038 个独立地址，满足全球互联网设备日益增长的需求

3. 广播和多播

- IPv4：支持广播
- IPv6：支持多播


