粘包：发送方的若干数据包被 TCP 合并为一个包进行发送，或接收方一次性接收多个数据包

- TCP 面向流，数据的发送和接收是连续的字节流，没有固定边界
- 网络延迟或拥塞控制导致的数据包合并

###### 解决方案

1. 消息定长：发送固定长度的消息，接收方根据固定长度分割接收到的字节流
2. 设置边界标志：在各包末尾添加特殊字符作为边界，接收方通过这些边界字符来拆分消息
3. 长度前缀：各包开始部分先发送一个表示消息长度的字段，接收方先读取长度字段，再根据长度读取相应数据
4. 应用层协议：定义复杂的应用层协议如在消息中使用 JSON 或 XML 格式，这样即使发生粘包，也可通过解析 JSON 或 XML 来识别单独的消息
