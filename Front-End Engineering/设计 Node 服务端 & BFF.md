设计 Node 服务端 & BFF：

- 设计原则：BFF 层解耦前后端，其作为前端请求的唯一入口，以前端页面和资源导向设计 API 和路由，负责接口聚合、数据适配、权限控制、版本控制、缓存设计和业务逻辑，后端重构微服务和修改接口时，只需修改 BFF 层的适配逻辑，前端无感
- 接口聚合：接收到前端单个请求后，并行调用多个依赖的微服务接口，通过请求状态缓存池移除重复请求，聚合多接口响应并将结果返回给前端
- 数据适配：配置源字段 - 标准字段的映射表，遍历不同微服务的原始数据字段，根据映射表查找对应标准字段，调用格式转换函数将源数据转换为标准数据，校验字段缺失和类型异常并以默认值为兜底，避免前端重复转换
- 版本控制：通过 URL 或请求头部字段实现版本控制
* 权限控制：通过前端携带的会话验证用户身份，基于 RBAC 模型校验接口访问权限，防止 XSS & SQL Injection & CSRF & MITM 攻击
* 缓存设计：缓存穿透/击穿/雪崩，一级缓存 -> 本地内存缓存，二级缓存 -> 分布式缓存，三级缓存 -> CDN 缓存；过期时间失效 -> 通过设置缓存 key 的过期时间，过期后自动失效；事件驱动失效 -> 通过消息队列发送事件，监听事件后移除对应缓存 key；定时任务更新 -> 通过定时任务定期调用微服务接口并更新缓存
