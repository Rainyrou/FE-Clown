对象扁平化：

```js
const flattenObj = (target, prefix = "") => {
  const obj = {};
  for (const key in target) {
    if (target.hasOwnProperty(key)) {
      const newKey = prefix
        ? Array.isArray(target)
          ? `${prefix}[${key}]`
          : `${prefix}.${key}`
        : key;
      if (typeof target[key] === "object" && target[key] !== null)
        Object.assign(obj, flattenObj(target[key], newKey));
      else obj[newKey] = target[key];
    }
  }
  return obj;
};

const obj1 = {
  a: { a1: "vaa", b1: "bb" },
  b: ["b1", { ac: 2 }],
  c: "c1",
};

const obj2 = {
  a: "hello",
  b: 111,
  c: {
    d: "world",
    e: [1, 2, 3],
  },
};

console.log(flattenObj(obj1));
console.log(flattenObj(obj2));
```

```json
{ 'a.a1': 'vaa', 'a.b1': 'bb', 'b[0]': 'b1', 'b[1].ac': 2, c: 'c1' }
{
  a: 'hello',
  b: 111,
  'c.d': 'world',
  'c.e[0]': 1,
  'c.e[1]': 2,
  'c.e[2]': 3
}
```

对象转换路径：

```js
const objToPath = (obj) => {
  const keys = [];
  const dfs = (curObj) => {
    const key = Object.keys(curObj)[0];
    keys.push(key);
    if (typeof curObj[key] === "object" && curObj[key] !== null)
      dfs(curObj[key]);
  };
  dfs(obj);
  return keys.join(".");
};

const obj = {
  a: {
    b: {
      c: {
        d: null,
      },
    },
  },
};

console.log(objectToPath(obj)); // a.b.c.d
```

路径转换对象：

```js
const pathToObj = (path) => {
  const keys = path.split(".");
  let obj = {},
    cur = obj;
  keys.forEach((key, index) => {
    cur[key] = index === keys.length - 1 ? null : {};
    cur = cur[key];
  });
  return obj;
};

const path = "a.b.c.d";
console.log(JSON.stringify(pathToObj(path), null, 2));
```

```json
{
  "a": {
    "b": {
      "c": {
        "d": null
      }
    }
  }
}
``
