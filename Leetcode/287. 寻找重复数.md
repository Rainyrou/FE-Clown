[287. 寻找重复数](https://leetcode.cn/problems/find-the-duplicate-number/solutions/3797843/yong-ji-huan-shu-li-jie-zuo-fa-tong-142-tkoc2/)

[142. 环形链表 II](https://leetcode.cn/problems/linked-list-cycle-ii/description/)

```javascript
var findDuplicate = function(nums) {
  const set = new Set();
  for(const num of nums) {
    if (set.has(num)) return num;
    set.add(num);
  }
};
```

原地哈希：

```javascript
var findDuplicate = function (nums) {
  for (let i = 0; i < nums.length; ++i) {
    const x = Math.abs(nums[i]);
    if (nums[x - 1] >= 0) nums[x - 1] = -nums[x - 1];
    else return x;
  }
  return -1;
};
```

基环树：

```javascript
var findDuplicate = function (nums) {
  let slow = 0,
    fast = 0;
  while (true) {
    slow = nums[slow];
    fast = nums[nums[fast]];
    if (slow === fast) break;
  }
  let head = 0;
  while (head !== slow) {
    head = nums[head];
    slow = nums[slow];
  }
  return slow;
};
```

* 构造链表：连接从  i  到  nums[i]  的有向边，链表节点 -> i + 下一节点 -> nums[i] + 头节点 -> 0 + 入环口 -> 重复元素
* 快慢指针找环：从索引 0 开始，slow 每次走一步，fast 每次走两步，直至两者相遇
* 找入环口：将fast重置回起点，让 slow 和 fast 以相同速度（每次走一步）继续向前，两者再次相遇即入环口，对应指针（索引）即为所求