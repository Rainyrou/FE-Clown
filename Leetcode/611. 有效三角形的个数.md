[611. 有效三角形的个数](https://leetcode.cn/problems/valid-triangle-number/submissions/612839142/)

```javascript
var triangleNumber = function(nums) {
  nums.sort((a, b) => a - b);
  let ans = 0;
  for(let k = 2;k < nums.length;++k) {
    const ch = nums[k];
    let i = 0, j = k - 1;
    while(i < j) {
      if(nums[i] + nums[j] > ch) {
        ans += j - i;
        --j;
      } else {
        ++i;
      }
    }
  }
  return ans;
};
```