[检测循环依赖](https://www.nowcoder.com/practice/8dc02ad98553432a90affc3a0484910b)

```js
function findOrder(prerequisites, n) {
  // write code here
  const inDegree = new Array(n).fill(0);
  const map = new Map();
  const queue = [];
  const ans = [];
  for (let i = 0; i < prerequisites.length; ++i) {
    const [preCourse, course] = prerequisites[i];
    ++inDegree[course];
    if (!map.has(preCourse)) map.set(preCourse, [course]);
    else map.get(preCourse).push(course);
  }
  for (let i = 0; i < n; ++i) {
    if (!inDegree[i]) queue.push(i);
  }
  while (queue.length) {
    const cur = queue.shift();
    ans.push(cur);
    const list = map.get(cur);
    if (list && list.length) {
      for (const course of list) {
        --inDegree[course];
        if (!inDegree[course]) queue.push(course);
      }
    }
  }
  return ans.reverse();
}
```