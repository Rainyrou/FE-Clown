在引入 Fiber 架构前，React 通过堆栈渲染器的同步渲染引擎来渲染组件，React 递归遍历组件树，对需更新的组件调用 `render` 方法，与前一次的渲染结果进行比对，更新 DOM，此种更新机制是同步且一次性完成的，一旦开始便不被中断或暂停，其无法为不同渲染任务分配不同优先级且较大组件树的复杂更新势必阻塞浏览器主线程

React Fiber 正是为解决上述问题而生的，其用于提高 React 的性能，尤其是在处理动画和页面渲染等方面，Fiber 实质上重构 React Virtual DOM，每个 React 元素对应一至多个 Fiber 节点，其构成一个工作单元的树形结构，React 为每个 Fiber 节点标记 Effect 来表示不同类型的工作，每个 Fiber 节点代表一个工作单元，React 调度过程为 Fiber 架构的一部分，调度器 Scheduler 是其并发模式之核心，React 在底层上通过类似 `requestIdleCallback` 的机制检测浏览器主线程的空闲时间，实现任务分割和优先级排序，并据此顺序执行这些 Fiber 节点，具体来说，由于 `requestIdleCallback` 的支持和触发时机存在局限性，React 实现自己的调度策略，其调度器内部维护一个任务队列，每个任务均有其到期时间，React 据此排序它们，在浏览器空闲时执行低优先级任务，在更新过程中中断和复用渲染任务，避免阻塞浏览器主线程，确保优先处理关键更新，增强 React 渲染的可预测性。React 在渲染组件时构建两棵 Fiber 树，一棵为在屏幕上显示的 current tree，另一棵为正在内存中构建的工作树 work-in-progress tree，此种方式使 React 可在内存中构建新树并在完成后进行快速切换，在协调阶段，React 异步计算新树变化（此过程可被中断），在提交阶段，React 遍历 Effect 列表，将计算出的变化同步应用到 DOM 上（此过程不可中断）
