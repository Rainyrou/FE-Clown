#### Webpack

Webpack：静态模块打包器，用于构建 JS 应用程序，以一种相对一致且开放的处理方式加载所有资源文件并将其合并打包成浏览器兼容的 Web 资源，其忽略具体资源类型的差异，将所有文件统一视为 module，同一套代码实现诸多特性，以相同的加载、解析、依赖管理、优化和合并流程实现打包并借助 loader & plugin 开放接口将资源差异处理逻辑交由社区实现，建立统一资源构建模型，项目冷启动时 Webpack 递归打包整个项目的依赖树，在生产和开发阶段均打包，通过构建一至多个 bundle 文件来管理模块间的依赖关系，这样的全量编译方式及 JavaScript 语言本身的性能限制导致较慢的构建速度

Webpack 解析配置文件 `webpack.config.js`，根据 Entry、Output、Loader、Plugin 和 Mode 等配置初始化，启用其内置在相应环境变量下的优化并实例化 `Compiler` 对象，构建时创建记录本次构建所有信息的 `Compilation` 对象，Webpack 从入口点开始解析文件，其为 Webpack 查找所有依赖即 import/require 语句的起点，接着递归解析所有依赖项并构建依赖图，依赖图包含项目所有模块并记录它们间的依赖关系，Webpack 本身只支持 JavaScript，Loader 可将其他文件类型转换为有效的 module 并将其加入到依赖图中，而基于 Webpack 的事件钩子系统，Plugins 提供一种机制直接参与到 Webpack 的打包过程，允许在构建的特定时刻添加自定义构建步骤，经过上述过程 Webpack 将源代码转换为最终的输出代码，其根据配置中的 `output` 字段将处理后的模块打包成一至多个 bundle 文件并输出到指定目录中，之后触发 `done` 事件，若构建过程中发生错误则显示错误信息甚至回滚到构建前的状态

#### Vite

Vite 为开箱即用的工具链方案，其出现极大降低开发者的心智负担，在开发阶段，Vite 无需打包，而基于浏览器天然支持的 ESM 之 no-bundle 服务进行模块加载，Vite dev server 直接请求所需模块，编译和加载所需文件，Vite 知道哪些文件更改及哪些模块依赖于这些文件，因此当请求文件时，Vite 进行增量编译，其通过 HTTP 缓存机制来缓存未更改的模块，浏览器直接复用它们，同时 Vite 优化热更新机制，通过 ESM 导入链允许更新事件气泡上升至依赖链直至找到可处理该事件的边界，避免不必要的模块重载，首次启动时预构建 `node_modules` 中的依赖，转换为 ESM 并缓存结果，通过精确的模块图依赖分析和缓存策略，使热更新非常 nice，在生产阶段，其基于 Rollup 打包，通过 Tree-Shaking 等技术和其他压缩工具如 Babel 等，利用多核 CPU 并行压缩代码，极大加快构建过程，保证构建产物质量，同时以 Esbuild 作为第三方库来实现超快的编译速度

- HMR 气泡传播：Vite 的 HMR 机制利用了 ESM 的导入链，允许更新事件气泡上升至依赖链，直至找到可以处理该更新的边界，这种机制可避免不必要的模块重新加载
