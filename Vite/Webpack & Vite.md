#### Webpack

Webpack：静态模块打包器，用于构建 JS 应用程序，以一种相对一致且开放的处理方式加载所有资源文件并将其合并打包成浏览器兼容的 Web 资源，其忽略具体资源类型的差异，将所有文件统一视为 module，同一套代码实现诸多特性，以相同的加载、解析、依赖管理、优化和合并流程实现打包并借助 loader & plugin 开放接口将资源差异处理逻辑交由社区实现，建立统一资源构建模型，项目冷启动时 Webpack 递归打包整个项目的依赖树，在生产和开发阶段均打包，通过构建一至多个 bundle 文件来管理模块间的依赖关系，这样的全量编译方式及 JavaScript 语言本身的性能限制导致较慢的构建速度

Webpack 解析配置文件 `webpack.config.js`，根据 Entry、Output、Loader、Plugin 和 Mode 等配置初始化，启用其内置在相应环境变量下的优化并实例化 `Compiler` 对象，构建时创建记录本次构建所有信息的 `Compilation` 对象，Webpack 从入口点开始解析文件，其为 Webpack 查找所有依赖即 import/require 语句的起点，接着递归解析所有依赖项并构建依赖图，依赖图包含项目所有模块并记录它们间的依赖关系，Webpack 本身只支持 JavaScript，Loader 可将其他文件类型转换为有效的 module 并将其加入到依赖图中，而基于 Webpack 的事件钩子系统，Plugins 提供一种机制直接参与到 Webpack 的打包过程，允许在构建的特定时刻添加自定义构建步骤，经过上述过程 Webpack 将源代码转换为最终的输出代码，其根据配置中的 `output` 字段将处理后的模块打包成一至多个 bundle 文件并输出到指定目录中，之后触发 `done` 事件，若构建过程中发生错误则显示错误信息甚至回滚到构建前的状态

#### Vite

Vite 为开箱即用的现代前端构建工具方案，其出现极大降低开发者的心智负担，编译方式为增量编译
在开发阶段，Vite 无需打包而基于浏览器天然支持的 ESM 之 no-bundle 服务加载模块，Vite dev server 直接请求所需模块，编译和加载所需文件，其知道哪些文件更改及哪些模块依赖于这些文件，首次启动时扫描入口文件，分析 `import` 语句以确定需预构建的依赖，Vite 以 Esbuild 预构建依赖并 Tree-Shaking 及缓存预构建结果，默认置于 `node_modules/.vite` 目录，生成记录这些模块的依赖关系和哈希值之 `metadata.json` 文件，后续开发直接复用缓存而无需重新预构建，而浏览器通过在请求中携带有哈希值的 `query` 参数来强缓存预构建的模块，在模块变化时通过修改 URL 的查询参数来触发缓存更新，此外 Vite 基于 Chokidar 和 WebSocket 优化热更新机制，当某模块更新时，更新事件沿着 ESM 导入链向上冒泡至可处理该事件的边界，避免不必要的全模块重载
在生产阶段，其基于 Rollup 打包，生产和开发阶段使用相同的插件使其代码处理方式保持一致，Vite 插件系统兼容 Rollup 插件，Rollup Tree-shaking 移除无用代码，减少构建产物打包体积，通过多核 CPU 并行构建，以 Esbuild 作为第三方库来实现超快的编译速度
