- 解析阶段：通过基于正则表达式的 HTML 解析器将模板字符串（HTML 标签、属性、指令、注释、文本节点和插值表达式等）转换为 AST
- 优化阶段：对 AST 进行静态分析，标记静态节点并将其提升到渲染函数的外部，这些节点在后续重新渲染时被直接跳过
- 代码生成阶段：将优化后的 AST 转换成最终的渲染函数