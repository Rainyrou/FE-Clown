**这种设计是 Vue 响应式系统高效性能的关键所在之一**

当你在同一个事件循环中多次同步修改响应式数据时，组件的 DOM 更新是异步且批量进行的，它是 Vue 异步更新队列的特性，旨在提高性能，避免不必要的渲染

###### 批量更新原因

1. 性能优化：若每次数据改变都立即执行 DOM 更新，在同一事件循环中对同一组件的多次数据更改势必导致多次渲染，这对性能来说是一个很大的负担。通过批量更新，Vue 最小化了 DOM 操作和组件渲染次数
2. 避免不一致状态：批量更新确保组件的渲染基于最新状态，避免数据变化和视图之间的不一致

###### 底层原理

Vue 使用一个异步队列来跟踪所有数据改变后的组件更新。当响应式数据发生变化时，Vue 将对应组件标记为脏组件，并将其加入到一个待更新队列中。在同一事件循环中，无论数据变化多少次，组件只会被加入队列一次。然后，Vue 在事件循环的下一个微任务阶段统一执行队列中所有组件的更新，从而完成 DOM 的批量更新
Vue 3 内部使用 Promise `then` 方法或 `MutationObserver`（在 Promise 不可用的环境中）作为微任务的异步机制来推迟更新，所有的数据变化都被积累起来，直到当前执行栈清空，而后 Vue 开始处理异步更新队列


