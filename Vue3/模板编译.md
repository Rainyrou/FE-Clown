1. 模板解析：在构建 `.vue` 文件或运行 JavaScript 中直接写的模板字符串时，Vue3 使用基于 `@vue/compiler-core` 的编译器读取模板字符串，通过正则表达式等方法解析标签、属性、指令等，将其转换为 AST 节点
2. AST 优化：Vue 编译器遍历 AST，标记静态节点，在后续的更新过程中可以跳过这些不变的部分，提升渲染性能
3. 代码生成：基于 Vue 的虚拟 DOM 创建函数如 `h` 函数生成渲染函数。Vue 编译器遍历 AST，将其转换成渲染函数的 JavaScript 代码，此外 Vue3 使用 Block Tree 来进一步优化动态节点的更新，它们被组织在更小的可独立更新的区块中，从而减少比对和重新渲染的开销
4. 响应式系统集成：Vue3 基于 Proxy 实现响应式系统，在组件实例化时，Vue3 得以跟踪渲染函数的依赖，当响应式数据变化时，能精确触发与之相关的组件重新渲染。此外，Vue3 引入的 Composition API 提供了更细粒度的响应式数据控制，使得状态管理和副作用的追踪更加高效
5. 渲染 & 更新：初次渲染时触发渲染函数，生成虚拟 DOM 并将其转换为真实 DOM 挂载到页面上。此外 Vue3 采用 Diff 算法比较新旧虚拟 DOM 树中节点的差异，并根据差异对真实 DOM 进行最小量更新

